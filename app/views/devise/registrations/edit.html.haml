%h4= t('.edit_your_profile')
.d-flex.py-3
  %hr.my-auto.flex-grow-1/
= simple_form_for(resource, as: resource_name, validate: true,
url: registration_path(resource_name), html: { method: :put }) do |f|
  = f.error_notification
  .form-inputs
    .username{ data: { behavior: 'vue' } }
      = f.input :username, required: true, validate: true,
      input_html: { data_username: current_user.username }
      %p.validation-error.hide= t('activerecord.errors.models.user.attributes.username.taken')
      %p.validation-success.hide= t('activerecord.errors.models.user.attributes.username.available')
      %p.validation-pending.hide= t('activerecord.errors.models.user.attributes.username.checking_availability')
      %p.validation-alreadytaken.hide= t('activerecord.errors.models.user.attributes.username.already_taken')
    = f.input :email, required: true, validate: true
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      %p= t('.currently_waiting_confirmation_for_email',
      email: resource.unconfirmed_email)
    %h4.mt-4= t('.password_change')
    .d-flex.py-3
      %hr.my-auto.flex-grow-1/
    = f.input :password, hint: t('.leave_blank_if_you_don_t_want_to_change_it'),
      required: false, input_html: { autocomplete: 'new-password' }
    = f.input :password_confirmation, required: false,
      input_html: { autocomplete: 'new-password' }
    = f.input :current_password,
      hint: t('.we_need_your_current_password_to_confirm_your_password_changes'),
      input_html: { autocomplete: 'current-password' }
  .form-actions
    = f.button :submit, t('.update'), class: 'btn btn-info', id: 'btn_edit_profile'
%h4.mt-4= t('.cancel_my_account')
.d-flex.py-1
= button_to t('.cancel_my_account'), registration_path(resource_name),
method: :delete, class: 'btn btn-danger', data: { confirm: t('.are_you_sure') },
id: 'btn_cancel_my_account'
